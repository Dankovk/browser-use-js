"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7557],{6152:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"port-diff","title":"Python to TypeScript Port Differences","description":"Table of Contents","source":"@site/docs/port-diff.md","sourceDirName":".","slug":"/port-diff","permalink":"/browser-use-node/port-diff","draft":false,"unlisted":false,"editUrl":"https://github.com/dankovk/browser-use-node/tree/main/docs/docs/port-diff.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Security Policy","permalink":"/browser-use-node/security"}}');var t=i(4848),s=i(8453);const l={},o="Python to TypeScript Port Differences",c={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Python Structure",id:"python-structure",level:3},{value:"TypeScript Structure",id:"typescript-structure",level:3},{value:"Core Module Differences",id:"core-module-differences",level:2},{value:"Agent Module",id:"agent-module",level:3},{value:"Message Manager",id:"message-manager",level:3},{value:"Browser Implementation",id:"browser-implementation",level:3},{value:"Context Management",id:"context-management",level:3},{value:"DOM Service",id:"dom-service",level:3},{value:"Controller &amp; Registry",id:"controller--registry",level:3},{value:"Type System",id:"type-system",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Configuration &amp; Validation",id:"configuration--validation",level:3},{value:"Logging &amp; Telemetry",id:"logging--telemetry",level:3},{value:"Action Items",id:"action-items",level:2},{value:"High Priority",id:"high-priority",level:3},{value:"Medium Priority",id:"medium-priority",level:3},{value:"Low Priority",id:"low-priority",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"python-to-typescript-port-differences",children:"Python to TypeScript Port Differences"})}),"\n",(0,t.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#project-structure",children:"Project Structure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python Structure"}),"\n",(0,t.jsx)(n.li,{children:"TypeScript Structure"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#core-module-differences",children:"Core Module Differences"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Agent Module"}),"\n",(0,t.jsx)(n.li,{children:"Message Manager"}),"\n",(0,t.jsx)(n.li,{children:"Browser Implementation"}),"\n",(0,t.jsx)(n.li,{children:"Context Management"}),"\n",(0,t.jsx)(n.li,{children:"DOM Service"}),"\n",(0,t.jsx)(n.li,{children:"Controller & Registry"}),"\n",(0,t.jsx)(n.li,{children:"Type System"}),"\n",(0,t.jsx)(n.li,{children:"Error Handling"}),"\n",(0,t.jsx)(n.li,{children:"Configuration & Validation"}),"\n",(0,t.jsx)(n.li,{children:"Logging & Telemetry"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#action-items",children:"Action Items"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"High Priority"}),"\n",(0,t.jsx)(n.li,{children:"Medium Priority"}),"\n",(0,t.jsx)(n.li,{children:"Low Priority"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,t.jsx)(n.h3,{id:"python-structure",children:"Python Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"browser_use/\n\u251c\u2500\u2500 agent/\n\u2502   \u251c\u2500\u2500 message_manager/\n\u2502   \u2502   \u251c\u2500\u2500 service.py\n\u2502   \u2502   \u2514\u2500\u2500 views.py\n\u2502   \u251c\u2500\u2500 service.py\n\u2502   \u251c\u2500\u2500 views.py\n\u2502   \u2514\u2500\u2500 prompts.py\n\u251c\u2500\u2500 browser/\n\u2502   \u251c\u2500\u2500 browser.py\n\u2502   \u251c\u2500\u2500 context.py\n\u2502   \u2514\u2500\u2500 views.py\n\u251c\u2500\u2500 controller/\n\u2502   \u251c\u2500\u2500 registry/\n\u2502   \u251c\u2500\u2500 service.py\n\u2502   \u2514\u2500\u2500 views.py\n\u251c\u2500\u2500 dom/\n\u2502   \u251c\u2500\u2500 history_tree_processor/\n\u2502   \u251c\u2500\u2500 service.py\n\u2502   \u2514\u2500\u2500 views.py\n\u2514\u2500\u2500 telemetry/\n    \u251c\u2500\u2500 service.py\n    \u2514\u2500\u2500 views.py\n"})}),"\n",(0,t.jsx)(n.h3,{id:"typescript-structure",children:"TypeScript Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"src/\n\u251c\u2500\u2500 agent/\n\u2502   \u251c\u2500\u2500 agent.ts\n\u2502   \u251c\u2500\u2500 message-manager.ts\n\u2502   \u251c\u2500\u2500 prompts.ts\n\u2502   \u251c\u2500\u2500 types.ts\n\u2502   \u2514\u2500\u2500 agent-output.ts\n\u251c\u2500\u2500 browser/\n\u2502   \u251c\u2500\u2500 browser.ts\n\u2502   \u251c\u2500\u2500 context.ts\n\u2502   \u251c\u2500\u2500 types.ts\n\u2502   \u2514\u2500\u2500 config.ts\n\u251c\u2500\u2500 controller/\n\u2502   \u251c\u2500\u2500 registry/\n\u2502   \u251c\u2500\u2500 controller.ts\n\u2502   \u2514\u2500\u2500 types.ts\n\u251c\u2500\u2500 dom/\n\u2502   \u251c\u2500\u2500 service.ts\n\u2502   \u251c\u2500\u2500 types.ts\n\u2502   \u2514\u2500\u2500 tree-processor.ts\n\u2514\u2500\u2500 telemetry/\n    \u251c\u2500\u2500 service.ts\n    \u2514\u2500\u2500 views.ts\n"})}),"\n",(0,t.jsx)(n.h2,{id:"core-module-differences",children:"Core Module Differences"}),"\n",(0,t.jsx)(n.h3,{id:"agent-module",children:"Agent Module"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python uses Pydantic models for validation, TypeScript uses plain interfaces"}),"\n",(0,t.jsxs)(n.li,{children:["Python has ",(0,t.jsx)(n.code,{children:"@time_execution_async"})," decorator for step method"]}),"\n",(0,t.jsx)(n.li,{children:"Python has telemetry setup in constructor"}),"\n",(0,t.jsx)(n.li,{children:"Python has more robust error handling with specific error types"}),"\n",(0,t.jsxs)(n.li,{children:["Python uses ",(0,t.jsx)(n.code,{children:"model_dump_json"})," for serialization"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"message-manager",children:"Message Manager"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python has message manager in separate directory"}),"\n",(0,t.jsx)(n.li,{children:"Python uses Pydantic models for validation"}),"\n",(0,t.jsx)(n.li,{children:"Python has more robust token counting with specific model support"}),"\n",(0,t.jsx)(n.li,{children:"Python has better error handling and logging"}),"\n",(0,t.jsxs)(n.li,{children:["Python uses ",(0,t.jsx)(n.code,{children:"model_dump_json"})," for serialization"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"browser-implementation",children:"Browser Implementation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"TypeScript now uses Chromium by default"}),"\n",(0,t.jsx)(n.li,{children:"TypeScript now has equivalent Chrome instance connection support"}),"\n",(0,t.jsx)(n.li,{children:"Python has more robust anti-detection measures"}),"\n",(0,t.jsx)(n.li,{children:"Python's error handling is more comprehensive"}),"\n",(0,t.jsx)(n.li,{children:"TypeScript browser management now matches Python's"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"context-management",children:"Context Management"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python's element location strategy is more reliable"}),"\n",(0,t.jsx)(n.li,{children:"Python's frame and shadow DOM handling is better"}),"\n",(0,t.jsx)(n.li,{children:"Python's event handling is cleaner"}),"\n",(0,t.jsx)(n.li,{children:"Python's file uploader detection is more accurate"}),"\n",(0,t.jsx)(n.li,{children:"TypeScript needs to enhance its DOM interaction capabilities"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"dom-service",children:"DOM Service"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Python has comprehensive shadow DOM support with ",(0,t.jsx)(n.code,{children:"querySelectorDeep"})," and ",(0,t.jsx)(n.code,{children:"querySelectorAllDeep"})," methods"]}),"\n",(0,t.jsx)(n.li,{children:"Python has extensive iframe support with methods for content access and querying"}),"\n",(0,t.jsx)(n.li,{children:"Python uses comprehensive visibility checks including opacity, display, and viewport"}),"\n",(0,t.jsx)(n.li,{children:"Python has separate methods for building DOM tree with shadow DOM and iframes"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"controller--registry",children:"Controller & Registry"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python uses Pydantic models while TypeScript uses Zod schemas"}),"\n",(0,t.jsx)(n.li,{children:"Python's registry has better error handling and type safety"}),"\n",(0,t.jsx)(n.li,{children:"Python's registry has a cleaner way of creating parameter models from function signatures"}),"\n",(0,t.jsx)(n.li,{children:"Python's registry handles async/sync functions automatically"}),"\n",(0,t.jsxs)(n.li,{children:["Python's ",(0,t.jsx)(n.code,{children:"ActionResult"})," is simpler and more consistent"]}),"\n",(0,t.jsxs)(n.li,{children:["TypeScript's ",(0,t.jsx)(n.code,{children:"ActionResult"})," has an extra ",(0,t.jsx)(n.code,{children:"success"})," field that's not in Python"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"type-system",children:"Type System"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python uses Pydantic models and dataclasses for validation"}),"\n",(0,t.jsx)(n.li,{children:"TypeScript uses plain interfaces without runtime validation"}),"\n",(0,t.jsx)(n.li,{children:"Python has more comprehensive DOM types with better separation"}),"\n",(0,t.jsx)(n.li,{children:"Python has better history tracking with proper serialization"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python has more specific error types"}),"\n",(0,t.jsx)(n.li,{children:"Python has proper error formatting with trace support"}),"\n",(0,t.jsx)(n.li,{children:"Python has better error message organization"}),"\n",(0,t.jsx)(n.li,{children:"Python has better error recovery strategies"}),"\n",(0,t.jsx)(n.li,{children:"Python has better error logging"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configuration--validation",children:"Configuration & Validation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python uses Pydantic models for configuration"}),"\n",(0,t.jsx)(n.li,{children:"Python has better configuration loading with multiple source support"}),"\n",(0,t.jsx)(n.li,{children:"Python has better configuration validation with runtime checks"}),"\n",(0,t.jsx)(n.li,{children:"Python has better type coercion and default values"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"logging--telemetry",children:"Logging & Telemetry"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python has better logging configuration with proper log levels"}),"\n",(0,t.jsx)(n.li,{children:"Python has proper event types with validation"}),"\n",(0,t.jsx)(n.li,{children:"Python has better event tracking and filtering"}),"\n",(0,t.jsx)(n.li,{children:"Python has better performance monitoring with metric types"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"action-items",children:"Action Items"}),"\n",(0,t.jsx)(n.h3,{id:"high-priority",children:"High Priority"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Enhance DOM interaction capabilities:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Improve element location strategy"}),"\n",(0,t.jsx)(n.li,{children:"Enhance frame and shadow DOM handling"}),"\n",(0,t.jsx)(n.li,{children:"Clean up event handling"}),"\n",(0,t.jsx)(n.li,{children:"Improve file uploader detection"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Implement more robust anti-detection measures:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add comprehensive browser fingerprint protection"}),"\n",(0,t.jsx)(n.li,{children:"Improve stealth mode capabilities"}),"\n",(0,t.jsx)(n.li,{children:"Add more sophisticated bot detection avoidance"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"medium-priority",children:"Medium Priority"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Improve error handling:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add specific error types"}),"\n",(0,t.jsx)(n.li,{children:"Add proper error formatting"}),"\n",(0,t.jsx)(n.li,{children:"Improve error recovery strategies"}),"\n",(0,t.jsx)(n.li,{children:"Add comprehensive logging"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Enhance type system:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add runtime validation using Zod"}),"\n",(0,t.jsx)(n.li,{children:"Improve DOM type hierarchy"}),"\n",(0,t.jsx)(n.li,{children:"Add proper serialization methods"}),"\n",(0,t.jsx)(n.li,{children:"Add comprehensive attributes"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"low-priority",children:"Low Priority"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Improve testing:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add real-world scenario tests"}),"\n",(0,t.jsx)(n.li,{children:"Add performance measurement"}),"\n",(0,t.jsx)(n.li,{children:"Add token counting for LLM"}),"\n",(0,t.jsx)(n.li,{children:"Add proper cleanup with context managers"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Enhance documentation and tooling:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Improve documentation"}),"\n",(0,t.jsx)(n.li,{children:"Add performance optimizations"}),"\n",(0,t.jsx)(n.li,{children:"Add more examples"}),"\n",(0,t.jsx)(n.li,{children:"Add debugging tools"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Each task will be tackled in order of priority, with high-priority items being addressed first. The focus will be on ensuring core functionality and reliability before moving on to optimizations and enhancements."})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var r=i(6540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);